-- Dữ liệu mẫu: bản sao & giao dịch mượn-trả
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S1A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 1';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S1B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 1';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S2A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 2';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S2B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 2';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S3A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 3';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S3B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 3';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S4A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 4';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S4B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 4';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S5A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 5';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S5B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 5';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S6A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 6';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S6B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 6';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S7A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 7';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S7B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 7';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S8A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 8';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S8B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 8';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S9A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 9';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S9B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 9';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S10A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 10';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S10B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 10';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S11A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 11';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S11B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 11';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S12A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 12';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S12B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 12';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S13A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 13';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S13B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 13';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S14A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 14';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S14B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 14';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S15A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 15';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S15B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 15';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S16A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 16';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S16B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 16';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S17A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 17';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S17B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 17';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S18A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 18';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S18B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 18';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S19A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 19';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S19B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 19';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S20A' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 20';
GO
INSERT INTO BANSAO (MaTL, TinhTrang, ViTriKe)
SELECT MaTL, 'SanSang', 'Ke S20B' FROM TAILIEU WHERE TieuDe=N'Sach chuyen nganh 20';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S1A'
WHERE sv.MSSV='SV001';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S2A'
WHERE sv.MSSV='SV002';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S3A'
WHERE sv.MSSV='SV003';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S4A'
WHERE sv.MSSV='SV004';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S5A'
WHERE sv.MSSV='SV005';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S6A'
WHERE sv.MSSV='SV006';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S7A'
WHERE sv.MSSV='SV007';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S8A'
WHERE sv.MSSV='SV008';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S9A'
WHERE sv.MSSV='SV009';
GO
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
SELECT sv.MaDocGia, b.MaBanSao, '2025-09-01', '2025-09-15'
FROM SINHVIEN sv JOIN BANSAO b ON b.ViTriKe='Ke S10A'
WHERE sv.MSSV='SV010';
GO

DECLARE @MaBanSao INT = (SELECT MaBanSao FROM BANSAO WHERE ViTriKe='Ke S11A');
DECLARE @MaDocGia INT = (SELECT MaDocGia FROM SINHVIEN WHERE MSSV='SV011');
INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
VALUES (@MaDocGia, @MaBanSao, '2025-08-01', '2025-08-15');

UPDATE MUONTRA SET NgayTra='2025-09-01'
WHERE MaDocGia=@MaDocGia AND MaBanSao=@MaBanSao;
GO

DECLARE @MaBanSao INT = (SELECT MaBanSao FROM BANSAO WHERE ViTriKe='Ke S12A');
DECLARE @MaDocGia INT = (SELECT MaDocGia FROM SINHVIEN WHERE MSSV='SV012');

INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
VALUES (@MaDocGia, @MaBanSao, '2025-08-01', '2025-08-15');

UPDATE MUONTRA SET NgayTra='2025-09-01'
WHERE MaDocGia=@MaDocGia AND MaBanSao=@MaBanSao;
GO

DECLARE @MaBanSao INT = (SELECT MaBanSao FROM BANSAO WHERE ViTriKe='Ke S13A');
DECLARE @MaDocGia INT = (SELECT MaDocGia FROM SINHVIEN WHERE MSSV='SV013');

INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
VALUES (@MaDocGia, @MaBanSao, '2025-08-01', '2025-08-15');

UPDATE MUONTRA SET NgayTra='2025-09-01'
WHERE MaDocGia=@MaDocGia AND MaBanSao=@MaBanSao;
GO

DECLARE @MaBanSao INT = (SELECT MaBanSao FROM BANSAO WHERE ViTriKe='Ke S14A');
DECLARE @MaDocGia INT = (SELECT MaDocGia FROM SINHVIEN WHERE MSSV='SV014');

INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
VALUES (@MaDocGia, @MaBanSao, '2025-08-01', '2025-08-15');

UPDATE MUONTRA SET NgayTra='2025-09-01'
WHERE MaDocGia=@MaDocGia AND MaBanSao=@MaBanSao;
GO

DECLARE @MaBanSao INT = (SELECT MaBanSao FROM BANSAO WHERE ViTriKe='Ke S15A');
DECLARE @MaDocGia INT = (SELECT MaDocGia FROM SINHVIEN WHERE MSSV='SV015');

INSERT INTO MUONTRA (MaDocGia, MaBanSao, NgayMuon, HanTra)
VALUES (@MaDocGia, @MaBanSao, '2025-08-01', '2025-08-15');

UPDATE MUONTRA SET NgayTra='2025-09-01'
WHERE MaDocGia=@MaDocGia AND MaBanSao=@MaBanSao;